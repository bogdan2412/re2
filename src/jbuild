(rule
 ((targets (options.ml))
  (deps (options.mlp enum_x_macro.h))
  (action (bash "${CPP} -x c options.mlp > options.ml"))))

(library
 ((name re2)
  (public_name re2)
  (libraries (core_kernel re2_c))
  (c_library_flags (:standard -lstdc++ -lpthread))
  (includes (re2_c/libre2))
  (cxx_names (stubs))
  (cxx_flags (:standard \ -pedantic))
  (preprocess (pps (ppx_jane ppx_driver.runner)))))

(jbuild_version jane_street)
